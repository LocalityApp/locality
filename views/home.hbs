<!-- Start Nav Bar -->
<nav class="navbar navbar-expand-lg navbar-light">
    <a class="navbar-brand" href="/">LOCALITY</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup"
        aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="navbar-collapse collapse w-100 order-3 dual-collapse2">

        <ul class="navbar-nav ml-auto">
            {{#if user}}
                <li class="nav-item">
                    <a href="#" class="nav-item nav-link disabled" data-toggle="modal" data-target="#userSettings">{{user.userData.nickname}}</a>
                </li>
                <li>
                    <a href="/logout" class="nav-item nav-link disabled">Logout</a>
                </li>
            {{else}}
                <li>
                    <a href="/login" class="nav-item nav-link disabled">Log In</a>
                </li>
            {{/if}}
        </ul>
    </div>
</nav>
<!-- End Nav Bar -->
<br>
<!-- Start Feature -->
<div class="container">
  <div class="row">
    <div class="col-md-12 text-center">
      <h2>Drop & Drag Your Preferences</h2>
      </div>
    </div>
  </div>
<br>
<div class="container">
  <div class="row ui-state-default" id="sortable">
      <div class="col-sm-4 col-md-2 ui-state-default"> 
        <div class="d-block ftco-img-flaticon">
          <img src="images/svg/library.svg" class="img-fluid mb-4">
          <p>Attractions</p>
        </div>
      </div>
      <div class="col-sm-4 col-md-2 ui-state-default">
        <div class="d-block ftco-img-flaticon">
          <img src="images/svg/school.svg" class="img-fluid mb-4">
          <p>Schools</p>
        </div>
      </div>
      <div class="col-sm-4 col-md-2 ui-state-default">
        <div class="d-block ftco-img-flaticon">
          <img src="images/svg/nightlife.svg" class="img-fluid mb-4">
          <p>Nightlife &amp; Restaurants</p>
        </div>
      </div>
      <div class="col-sm-4 col-md-2 ui-state-default">
        <div class="d-block ftco-img-flaticon">
          <img src="images/svg/services.svg" class="img-fluid mb-4">
          <p>Services</p>
        </div>
      </div>
      <div class="col-sm-4 col-md-2 ui-state-default">
        <div class="d-block ftco-img-flaticon">
          <img src="images/svg/transport.svg" class="img-fluid mb-4">
          <p>Walkability &amp; Public Transportation</p>
        </div>
      </div>
      <div class="col-sm-4 col-md-2 ui-state-default">
        <div class="d-block ftco-img-flaticon">
          <img src="images/svg/bike.svg" class="img-fluid mb-4 ">
          <p>Parks</p>
        </div>
      </div> 
  </div>
</div>
<br>
<div class="container">
  <div class="row">
    <div class="col-md-4 text-left">
      <h4>Most Important</h4>
    </div>
    <div class="col-md-4 text-center">
      <button id="user-button">Find Your Locality</button>
     </div>
    <div class="col-md-4 text-right">
      <h4>Least Important</h4>
    </div>
  </div>
</div>
<br>
<hr>
<!-- End Drag Feature -->
<!-- Start Map -->
<div id="map"></div>
<!-- End MAP -->

<!-- THIS SECTION WILL BE WHERE INFORMATION WILL POPULATE WHEN USER CLICKS ON FEATURE IN AN APP -->
<div id="results"></div>
<br>

<!-- MODAL SECTION FOR DISPLAYING USER INFORMATION -->
{{#if user}}
<div id="userSettings" class="modal fade" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" style="text-align: left;">
                    <b>Hi {{user.userData.nickname}}!</b>
                </h2>
            </div>
            <div class="modal-body">
                <p>Edit Your Locality Settings</p>
                <form id="editUserSettings">
                    <input type="text" class="form-control modalForm" id="userNickname" value="{{userData.nickname}}" placeholder="Edit Your Name">
                    <input type="text" class="form-control modalForm" id="homeAddress" value="{{userData.homeAddress}}" placeholder="Add Your Home Address">
                    <input type="text" class="form-control modalForm" id="workAddress" value="{{userData.workAddress}}" placeholder="Add Your Work Address">
                </form>
            </div>
            <div class="modal-footer">
                <span><button type="submit" class="btn btn-default" id="updateUserSettings">SAVE</button></span>
                <span><button type="button" class="btn btn-default" data-dismiss="modal">CLOSE</button></span>
            </div>
        </div>
    </div>
</div>
{{/if}}

<!-- Importing dragable feature for icons -->
<script src="style.js"></script>
<!-- Google Maps -->
<script src="google-maps-service.js"></script>
<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDkLQbqN7AkkB4iG82HbHcFhFWxubl2U44&libraries=places"></script>
<script>
    google.maps.event.addDomListener(window, "load", initialize)
</script>
<!-- Event Handler to Change User Settings -->
<script>
    // Event handler for submit button.
  $("#addBurger").on("submit", function (event) {
    event.preventDefault();
    let newBurger = {
      burger_name: $("#burger").val().trim()
    };
    // Send the POST Request
    $.ajax("/api/burgers", {
      type: "POST",
      data: newBurger
    }).then(
      function () {
        console.log("Created new Burger", newBurger);
        //Reload the page to get the updated list.
        location.reload();
      }
    );
  });
</script>
</body>

</html>